schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cvClassifier/pipeline/S01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 7c394f26f6e6210446b1b015f1eee2d5
      size: 1183
    - path: src/cvClassifier/pipeline/S01_data_ingestion.py
      hash: md5
      md5: b96c9316e45ef5798ba5875c61a540e2
      size: 853
    outs:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: aa93df70650f0a7f1d594ec7f562a6f1.dir
      size: 124987534
      nfiles: 1004
  model_preparation:
    cmd: python src/cvClassifier/pipeline/S02_model_preparation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 7c394f26f6e6210446b1b015f1eee2d5
      size: 1183
    - path: src/cvClassifier/pipeline/S02_model_preparation.py
      hash: md5
      md5: 8161a047721d32163f463d8fc3bc3ea5
      size: 1179
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/model_preparation
      hash: md5
      md5: 2dc9f90ac361eac3d0d9b168992a179b.dir
      size: 153692068
      nfiles: 2
  model_training:
    cmd: python src/cvClassifier/pipeline/S03_model_training.py
    deps:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: aa93df70650f0a7f1d594ec7f562a6f1.dir
      size: 124987534
      nfiles: 1004
    - path: artifacts/model_preparation
      hash: md5
      md5: 2dc9f90ac361eac3d0d9b168992a179b.dir
      size: 153692068
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 7c394f26f6e6210446b1b015f1eee2d5
      size: 1183
    - path: src/cvClassifier/components/model_training.py
      hash: md5
      md5: 2d7289996490c2b372f0812ceb335631
      size: 20135
    - path: src/cvClassifier/pipeline/S03_model_training.py
      hash: md5
      md5: 262a3161549039fd9663eef326bcd15a
      size: 1091
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        BATCH_SIZE_OPTIONS:
        - 16
        EPOCHS: 1
        EPOCHS_OPTIONS:
        - 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.01
        LEARNING_RATE_RANGE:
        - 0.001
        - 0.01
        N_TRIALS: 2
        TIMEOUT: 7200
    outs:
    - path: artifacts/model_training/trained_model_resnet50.pth
      hash: md5
      md5: 742691df2d4a68e312f82f428466b531
      size: 94411310
    - path: artifacts/model_training/trained_model_vgg16.pth
      hash: md5
      md5: ae7390e2a8c6a7f3f12386547ab7576c
      size: 59278786
  model_evaluation:
    cmd: python src/cvClassifier/pipeline/S04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: aa93df70650f0a7f1d594ec7f562a6f1.dir
      size: 124987534
      nfiles: 1004
    - path: artifacts/model_training/trained_model_resnet50.pth
      hash: md5
      md5: 742691df2d4a68e312f82f428466b531
      size: 94411310
    - path: artifacts/model_training/trained_model_resnet50.pth
      hash: md5
      md5: 742691df2d4a68e312f82f428466b531
      size: 94411310
    - path: config/config.yaml
      hash: md5
      md5: 7c394f26f6e6210446b1b015f1eee2d5
      size: 1183
    - path: src/cvClassifier/components/model_evaluation.py
      hash: md5
      md5: a0a1ac535fba90ab2cdd4a99cb0f9f1a
      size: 6225
    - path: src/cvClassifier/pipeline/S04_model_evaluation.py
      hash: md5
      md5: 76b0238a32d816d10f1ca8e669995fcc
      size: 904
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/model_evaluation/final_scores.json
      hash: md5
      md5: cd9c0508f7031d3714c2bb38024857b4
      size: 122
    - path: model/model.pth
      hash: md5
      md5: ae7390e2a8c6a7f3f12386547ab7576c
      size: 59278786
